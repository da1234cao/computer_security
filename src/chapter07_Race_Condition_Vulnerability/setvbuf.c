/**
 * http://c.biancheng.net/cpp/html/268.html
 * http://c.biancheng.net/cpp/html/265.html
*/
#include <stdio.h> 
int main(void) 
{ 
   FILE *input, *output; 
   char bufr[512]; 
   input = fopen("file.in", "w+");     /*打开文件*/
   output = fopen("file.out", "w");

   if (setvbuf(input, bufr, _IOFBF, 512) != 0)  /*失败*/{
      printf("failed to set up buffer for input file\n");
   }
   else {
      printf("buffer set up for input file\n"); 
    }

   if (setvbuf(output, NULL, _IOLBF, 132) != 0)  /*为流指定特殊的缓冲区*/{
      printf("failed to set up buffer for output file\n"); 
    }
   else {
      printf("buffer set up for output file\n"); 
   }

   fclose(input); 
   fclose(output); 
   return 0; 
}

